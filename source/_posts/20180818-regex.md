---
title: 正则表达式
date: 2018-08-18 21:04:54
tags: regex
---

## 什么是正则表达式

正则表达式是一个特殊的字符序列，可用于检测一个字符串是否与我们所写的正则表达式相匹配。

例如我们可以利用正则表达式，找出字符串 `app, apple, application, hello, world` 所有包含 `app` 的单词。

元字符，是正则表达式规定的特殊代码

## 元字符

### 常用元字符

| 字符 | 含义 |
| --- | --- |
| `.` | 匹配除了换行符 ( `\n`  ) 以外的任意字符 |
| `\d` | 匹配一个数字 |
| `\D` | 匹配任意非数字的字符 |
| `\s` | 匹配任意的空白符，如空格，制表符，换行符等等 |
| `\S` | 匹配任意不是空白符的字符 |
| `\w` | 匹配字母或数字或下划线或汉字等 |
| `\W` | 匹配任意不是字母、数字、下划线、汉字的字符 |

### 与数量相关的元字符

| 字符 | 含义 |
| --- | --- |
| `\*` | 代表前面的内容出现 0 次或者 0 次以上 |
| `+` | 重复 1 次或更多次 |
| `?` | 重复 0 次或 1 次 |
| `{n}` | 重复 n 次 |
| `{n,}` | 重复 n 次货更多次 |
| `{n, m}` | 重复 n 到 m次之内 |

### 与边界相关的元字符

| 字符 | 含义 |
| --- | --- |
| `^` | 匹配字符串的开始 |
| `\$` | 匹配字符串的结束 |
| `\b` | 代表着单词开头或结尾，也就是单词的分界处，`\bhi\b`  只匹配 hi 这个单词，hight 这些是匹配不到的 |

## 字符集合

要想查找一个数字，字母或者数字，空白很简单，可以使用对应的字符集合的元字符。

如果想匹配没有预定义元字符的字符集合，则可以通过 `[]` 包裹你想匹配的东西即可，如你想匹配元音字母，那么字符集的定义为 `[aeiou]` 。又例如，如果想匹配 a 或 b 或 c，那么字符集合可以定义为 [abc]。

如果不想匹配字符集合中的任意一个字符，如不想匹配任何一个元音字母，则可以这么定义 `[^aeiou]` ，这表明是匹配除了 aeiour 这几个字母以外的任意字符。

## 字符转义

如果想匹配元字符本身，那么直接写 `.` 或者 `*` 是有问题的，因为你没法去匹配一个 `.` 或者 `*` 。因此这个时候，就需要使用 `\` 来取消这些字符的特殊意义，如 `\.` 或者 `\*` 。如果你想匹配 `\` ，也需要转义，`\\` 。

## 分组

重复单个字符，那么正则表达式可以这么写，`a+` 。那么如果想重复多个字符，就需要用到分组了。通常我们定义分组的时候，用一个小括号 `()` 括起来，如 `(apple)+`  ，此时可以匹配 apple 这个字符串 1 次或者多次。

## 贪婪模式和懒惰模式

当正则表达式中包含能接受重复限定符时，通常的行为是尽可能匹配多的字符。以 `a.*b` 为例，它将会匹配最长的以 a 开始，以 b 结束的字符串。如果用它来搜索 aabab 的话，它会匹配整个字符串 aabab。这就称为贪婪匹配。

有时，我们更需要懒惰匹配，也就是匹配尽可能少的字符。如 `a.*?b`，意味着匹配 a 任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复。此时去 匹配字符串 aabab，则会匹配到 aab 和 ab。

## 匹配模式

匹配模式，可以参考这个链接 https://ahkcn.github.io/docs/misc/RegEx-QuickRef.htm