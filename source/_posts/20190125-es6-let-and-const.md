---
title: ES6 let 和 const 命令要点
tags:
  - javascript
  - es6
date: 2019-01-25 13:57:49
---


## let

- let 声明的变量只有在其所在代码块内有效。
- let 在 for 循环中声明的 i 只在当轮循环中有效。
    ```js
    for(let i = 0; i < 10; i++) {
    }
    ```
- 不存在变量提升
- 暂时性死区
- 不允许重复声明

## 块级作用域

- 考虑到环境导致的行为差异太大，应该避免在块级作用域内声明函数。如果确实需要，应写成函数表达式的形式，而不是函数声明语句。
- do 表达式

## const

- const 实际上保证的是变量指向的那个内存地址不得改动。
  - 如果想让对象不可变，可使用 Object.freeze 方法。
- 不存在变量提升
- 暂时性死区

## 顶层对象的属性

- 顶层对象在浏览器环境中指的是 window 对象，在 Node 环境中指的是 global 对象。在 ES5 中，顶层对象的属性与全局变量是等价的。
- let 、const、class 声明的全局变量不属于顶层对象属性。
- 从 ES6 开始，全局变量将逐步与顶层对象属性隔离。

## global 对象

- 现在有一个提案，在语言标准的层面，引入global作为顶层对象。也就是说，在所有环境下，global都是存在的，都可以从它拿到顶层对象。
