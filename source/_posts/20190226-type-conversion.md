---
title: 类型转换
tags: javascript
date: 2019-02-26 15:45:25
---


JavaScript 中有七种类型，其中六种是原始类型，一种为对象

- number
- string
- boolean
- undefined
- null
- symbol
- object

类型转换有两种:

- 显示类型转换
- 隐式类型转换

## 显示类型转换

### Number()

通过 `Number()` 将**原始类型**转换为 `number` 类型会按照下面的规则进行转换：

- 数值：转换后还是原来的值。
- 字符串：如果可以被解析为数值，则转换为相应的数值，否则得到 `NaN`。空字符串转为 `0`。
- 布尔值：`true` 转成 `1`，`false` 转成 `0`。
- `undefined`：转成 `NaN`。
- `null`：转成 0。
- Symbol：报错

通过 `Number()` 将**对象**转换为 `number` 类型，会按照下面的步骤进行转换：

1. 先调用对象自身的 `valueOf` 方法，如果该方法返回原始类型的值（数值、字符串和布尔值），则直接对该值使用 `Number` 方法，不再进行后续步骤。
1. 如果 `valueOf` 方法返回复合类型的值，再调用对象自身的 `toString` 方法，如果 `toString` 方法返回原始类型的值，则对该值使用 `Number` 方法，不再进行后续步骤。
1. 如果 `toString` 方法返回的是复合类型的值，则报错。

### String()

通过 `String()` 将**原始类型**转换为 `string` 类型会按照下面的规则进行转换：

- 数值：转为相应的字符串。
- 字符串：转换后还是原来的值。
- 布尔值：`true` 转为 `"true"`，`false` 转为 `"false"`。
- `undefined`：转为 `"undefined"`。
- `null`：转为 `"null"`。

通过 `String()` 转换**对象**会按照下面的步骤进行转换。

1. 先调用 `toString` 方法，如果 `toString` 方法返回的是原始类型的值，则对该值使用 `String()` 方法，不再进行以下步骤。
1. 如果 `toString` 方法返回的是复合类型的值，在调用 `valueOf` 方法，如果 `valueOf` 方法返回的是原始类型的值，则对该值使用 `String()` 方法，不再进行以下步骤。
1. 如果 `valueOf` 方法返回的是复合类型的值，则报错。

### Boolean()

通过 `Boolean()` 进行数据类型转换，仅需记着以下几种情况会转成 `false`，其他情况都会转成 `true`：

- `undefined`
- `null`
- `-0`
- `+0`
- `NaN`
- `''`（空字符串）

## 隐式类型转换

隐式类型转换在以下三种情况下触发：

- 四则运算
- 判断与比较
- Native 调用，如 `console.log()`, `alert()`

隐式类型转换其实跟强制类型转换一样，只不过隐式类型转换是悄悄完成而已。

### 四则运算

四则运算中加法是比较特别:

- 运算中其中一方为字符串，那么就会把另一方也转换为字符串
- 如果一方不是字符串或数字，那么会将它转换为数字或这字符串
